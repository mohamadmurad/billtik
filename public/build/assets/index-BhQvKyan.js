import{J as b,j as e,Q as x,S as f}from"./app-DsfCF7HG.js";import{E as y}from"./EditAction-DExPjqy7.js";import{S as j,D as v}from"./table-Dwh4DlPB.js";import{M as g}from"./m-datatable-D5G7XvyL.js";import{M as F}from"./MSelect-Dn7NBo31.js";import{u as A}from"./useDatatableFilters-eyNKH-d1.js";import{t,B as S}from"./useTranslation-DbuFrrMG.js";import{A as _}from"./app-layout-Db1FIWeS.js";import{R as K}from"./refresh-cw-Cnw2Qvr9.js";import"./index-bQAU0iKw.js";import"./index-Bia8dv3q.js";import"./index-BN06L3Ow.js";import"./index-Db0CpK-c.js";import"./input-BXLaRJdL.js";import"./label-BUf_rEsz.js";import"./chevron-down-DVwFVhPw.js";import"./select-CPtSZWre.js";import"./index-CSRelBIp.js";import"./app-logo-icon-BZCo04Z6.js";function H(){const{items:a}=b().props,r="company.hotspot.clients",{filters:o,setFilters:n,applyFilters:c,resetFilters:l,isFiltersActive:m}=A({search:"",router_id:""},r),p=e.jsx("div",{className:"min-w-[300px] space-y-4",children:e.jsx("div",{className:"grid gap-2",children:e.jsx(F,{label:t("attributes.router"),value:String(o.router_id),apiUrl:route("company.routers.search"),id:"router",onChange:i=>n({...o,router_id:String(i)})})})}),d=[{title:t("attributes.dashboard"),href:route("company.dashboard")},{title:t(`attributes.${r}.title`),href:route(r+".index")}];function u(i){if(i)try{f.visit(route(r+".sync",i),{method:"post",onFinish:()=>{}})}catch(s){console.error(`Failed to sync ${r}:`,s)}}return e.jsxs(_,{breadcrumbs:d,children:[e.jsx(x,{title:t(`attributes.${r}.title`)}),e.jsx("div",{className:"px-4 py-6",children:e.jsx(g,{items:a,resource:r,columns:[{accessorKey:"router.name",header:t("attributes.router")},{accessorKey:"name",header:t("attributes.name")},{accessorKey:"mikrotik_username",header:t("attributes.username")},{accessorKey:"email",header:t("attributes.email")},{accessorKey:"phone",header:t("attributes.phone")},{accessorKey:"created_at",header:t("attributes.created_at")},{id:"actions",header:t("attributes.actions"),cell:({row:i})=>{const s=i.original;return e.jsxs("div",{className:"flex",children:[s.abilities.need_sync&&e.jsx(S,{title:t("attributes.sync"),variant:"ghost",onClick:h=>{h.stopPropagation(),u(s.id)},children:e.jsx(K,{size:20,className:"text-green-500"})}),s.abilities.view&&e.jsx(j,{resource:r,rowModel:s}),s.abilities.edit&&e.jsx(y,{rowModel:s,resource:r}),s.abilities.delete&&e.jsx(v,{id:s.id,resource:r})]})}}],filterComponents:p,filtersActive:m,onFilterApply:c,onFilterReset:l})})]})}export{H as default};
