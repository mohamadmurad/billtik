import{j as e,J as h,x as v}from"./app-BVYd3lDu.js";import{L as j,I as _}from"./label-BajUEwdn.js";import{I as c}from"./input-CZAmZjV5.js";import{S as f,a as N,b as w,c as C,d as S}from"./select-BnWp-ATQ.js";import{t,B as k}from"./useTranslation-CdVVQgVN.js";import{L as y}from"./loader-circle-BCI_fAqG.js";import"./index-CBJXcUIr.js";import"./index-B3h-DoLV.js";import"./index-DGKAblK3.js";import"./index-DLuIFehx.js";function g({inputProps:s={},selectProps:a={},options:r,selectPlaceholder:n="Unit",className:m="",hideLabel:p=!1,hideError:u=!1,label:i,error:o}){return e.jsxs(e.Fragment,{children:[!p&&i&&e.jsxs(j,{htmlFor:s.id||s.name,className:"flex items-center gap-1",children:[i," ",s.required&&e.jsx("span",{className:"text-destructive text-sm leading-none dark:text-red-400",children:"*"})]}),e.jsx("div",{className:`flex items-center gap-2 ${m}`,children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(c,{type:s==null?void 0:s.type,...s}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsxs(f,{...a,children:[e.jsx(N,{className:"bg-background h-full rounded-l-none border-l px-3 py-0",children:e.jsx(w,{placeholder:n})}),e.jsx(C,{children:r.map(d=>e.jsx(S,{value:d.value,children:d.label},d.value))})]})})]})}),!u&&o&&e.jsx(_,{className:"mt-2",message:o})]})}function z({resource:s}){var b,x;const{model:a}=h().props,{data:r,setData:n,post:m,put:p,reset:u,errors:i,processing:o}=v({name:{en:((b=a==null?void 0:a.name)==null?void 0:b.en)||"",ar:((x=a==null?void 0:a.name)==null?void 0:x.ar)||""},price:(a==null?void 0:a.price)||"",download_input:(a==null?void 0:a.download_input)||"",download_unit:(a==null?void 0:a.download_unit)||"m",upload_input:(a==null?void 0:a.upload_input)||"",upload_unit:(a==null?void 0:a.upload_unit)||"m"}),d=l=>{l.preventDefault(),a?p(route(s+".update",a.id),{onSuccess:()=>u()}):m(route(s+".store"),{onSuccess:()=>u()})};return e.jsxs("form",{method:"post",className:"space-y-6",onSubmit:d,children:[e.jsx("div",{className:"mt-4 rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:t("attributes.name_en"),id:"name_en",className:"mt-1 block w-full",value:r.name.en,onChange:l=>n("name.en",l.target.value),autoComplete:"name",placeholder:t("attributes.name_en"),error:i["name.en"]})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:t("attributes.name_ar"),id:"name_ar",className:"mt-1 block w-full",value:r.name.ar,onChange:l=>n("name.ar",l.target.value),autoComplete:"name",placeholder:t("attributes.name_ar"),error:i["name.ar"]})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(g,{label:t("attributes.download_limit"),inputProps:{id:"download_limit",value:r.download_input,onChange:l=>n("download_input",l.target.value),placeholder:t("attributes.download_limit"),type:"number"},selectProps:{value:r.download_unit,onValueChange:l=>n("download_unit",l)},options:[{label:"Mb",value:"m"},{label:"Gb",value:"g"}],className:"mt-1 block w-full",error:i.download_input})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(g,{label:t("attributes.upload_limit"),inputProps:{id:"upload_limit",value:r.upload_input,onChange:l=>n("upload_input",l.target.value),placeholder:t("attributes.upload_limit"),type:"number"},selectProps:{value:r.upload_unit,onValueChange:l=>n("upload_unit",l)},options:[{label:"Mb",value:"m"},{label:"Gb",value:"g"}],className:"mt-1 block w-full",error:i.upload_input})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:t("attributes.price"),id:"price",className:"mt-1 block w-full",value:r.price,onChange:l=>n("price",l.target.value),placeholder:t("attributes.price"),error:i.price})})]})}),e.jsxs(k,{type:"submit",className:"mt-4",disabled:o,children:[o&&e.jsx(y,{className:"h-4 w-4 animate-spin"}),t("attributes.save")]})]})}export{z as default};
