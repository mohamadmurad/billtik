import{c as y,B as C,a as _,b as L,d as v,t as R}from"./useTranslation-B8UQE0T5.js";import{j as o,t as B,a as i,S as G}from"./app-ChXEbpKX.js";import{u as V,c as K,a as x}from"./index-Dx2VI5wQ.js";import{c as A,R as U,a as W,A as N,P as Z,h as q,f as J,e as Q,F as X,D as Y,C as ee,g as oe}from"./index-J5ey_0sn.js";import{P as O}from"./index-DZ6K7HYg.js";import{P as k}from"./index-DXFEMFX5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],re=y("Eye",te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ke=y("Pen",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],se=y("Trash2",ne);function Ee({resource:e,rowModel:t,disabled:r=!1}){return o.jsx(B,{className:"m-0",href:route(e+".show",t.id),disabled:r,children:o.jsx(C,{variant:"ghost",disabled:r,children:o.jsx(re,{size:"20"})})})}var b="Popover",[E,Se]=K(b,[A]),m=A(),[ce,p]=E(b),S=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:c=!1}=e,l=m(t),d=i.useRef(null),[u,g]=i.useState(!1),[P,f]=V({prop:s,defaultProp:a??!1,onChange:n,caller:b});return o.jsx(U,{...l,children:o.jsx(ce,{scope:t,contentId:W(),triggerRef:d,open:P,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(j=>!j),[f]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>g(!0),[]),onCustomAnchorRemove:i.useCallback(()=>g(!1),[]),modal:c,children:r})})};S.displayName=b;var T="PopoverAnchor",le=i.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=p(T,r),n=m(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=a;return i.useEffect(()=>(c(),()=>l()),[c,l]),o.jsx(N,{...n,...s,ref:t})});le.displayName=T;var D="PopoverTrigger",F=i.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=p(D,r),n=m(r),c=_(t,a.triggerRef),l=o.jsx(k.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":H(a.open),...s,ref:c,onClick:x(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(N,{asChild:!0,...n,children:l})});F.displayName=D;var w="PopoverPortal",[ie,de]=E(w,{forceMount:void 0}),M=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,n=p(w,t);return o.jsx(ie,{scope:t,forceMount:r,children:o.jsx(O,{present:r||n.open,children:o.jsx(Z,{asChild:!0,container:a,children:s})})})};M.displayName=w;var h="PopoverContent",I=i.forwardRef((e,t)=>{const r=de(h,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,n=p(h,e.__scopePopover);return o.jsx(O,{present:s||n.open,children:n.modal?o.jsx(pe,{...a,ref:t}):o.jsx(fe,{...a,ref:t})})});I.displayName=h;var ue=L("PopoverContent.RemoveScroll"),pe=i.forwardRef((e,t)=>{const r=p(h,e.__scopePopover),s=i.useRef(null),a=_(t,s),n=i.useRef(!1);return i.useEffect(()=>{const c=s.current;if(c)return q(c)},[]),o.jsx(J,{as:ue,allowPinchZoom:!0,children:o.jsx(z,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),n.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:x(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;n.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:x(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),fe=i.forwardRef((e,t)=>{const r=p(h,e.__scopePopover),s=i.useRef(!1),a=i.useRef(!1);return o.jsx(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,n),n.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),n.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:n=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=n.target;((u=r.triggerRef.current)==null?void 0:u.contains(c))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&a.current&&n.preventDefault()}})}),z=i.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:g,...P}=e,f=p(h,r),j=m(r);return Q(),o.jsx(X,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:o.jsx(Y,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(ee,{"data-state":H(f.open),role:"dialog",id:f.contentId,...j,...P,ref:t,style:{...P.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$="PopoverClose",ve=i.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=p($,r);return o.jsx(k.button,{type:"button",...s,ref:t,onClick:x(e.onClick,()=>a.onOpenChange(!1))})});ve.displayName=$;var he="PopoverArrow",xe=i.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=m(r);return o.jsx(oe,{...a,...s,ref:t})});xe.displayName=he;function H(e){return e?"open":"closed"}var me=S,ge=F,Pe=M,Ce=I;function be({...e}){return o.jsx(me,{"data-slot":"popover",...e})}function je({...e}){return o.jsx(ge,{"data-slot":"popover-trigger",...e})}function Re({className:e,align:t="center",sideOffset:r=4,...s}){return o.jsx(Pe,{children:o.jsx(Ce,{"data-slot":"popover-content",align:t,sideOffset:r,className:v("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",e),...s})})}function Te({id:e,resource:t,disabled:r=!1}){const[s,a]=i.useState(null),n=s===e,c=()=>{s!==null&&(l(s),a(null))},l=d=>{if(d)try{G.delete(route(t+".destroy",d))}catch(u){console.error(`Failed to delete ${t}:`,u)}};return o.jsxs(be,{open:n,onOpenChange:d=>a(d?e:null),children:[o.jsx(je,{asChild:!0,children:o.jsx(C,{variant:"ghost",onClick:d=>{d.stopPropagation(),a(e)},disabled:r,children:o.jsx(se,{size:20,className:"text-red-500"})})}),o.jsxs(Re,{className:"w-56 rounded-lg border border-gray-200 bg-white p-4 shadow-lg",children:[o.jsx("p",{className:"text-sm text-gray-700",children:R("messages.delete_alert")}),o.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[o.jsx(C,{variant:"outline",size:"sm",onClick:()=>a(null),children:R("attributes.cancel")}),o.jsx(C,{variant:"destructive",size:"sm",onClick:c,children:R("attributes.delete")})]})]})]})}function De({className:e,...t}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:v("w-full caption-bottom text-sm",e),...t})})}function Fe({className:e,...t}){return o.jsx("thead",{"data-slot":"table-header",className:v("[&_tr]:border-b",e),...t})}function Me({className:e,...t}){return o.jsx("tbody",{"data-slot":"table-body",className:v("[&_tr:last-child]:border-0",e),...t})}function Ie({className:e,...t}){return o.jsx("tr",{"data-slot":"table-row",className:v("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ze({className:e,...t}){return o.jsx("th",{"data-slot":"table-head",className:v("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function $e({className:e,...t}){return o.jsx("td",{"data-slot":"table-cell",className:v("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}export{Te as D,ke as P,Ee as S,De as T,Fe as a,Ie as b,ze as c,$e as d,Me as e};
