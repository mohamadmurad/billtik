import{J as z,x as w,j as e,Q as y,S as b}from"./app-BLZFXyKH.js";import{S}from"./SubscriptionsTable-BRj4QtyE.js";import{M as C}from"./MSelect-DljD5MBF.js";import{t as s,B as c}from"./useTranslation-DHlm1SLp.js";import{I as f}from"./input-C0LnvjHX.js";import{A as D}from"./app-layout-DIff3Bb8.js";import{L}from"./loader-circle-zSSyPNjN.js";import"./EditAction-CGb5YhOa.js";import"./DeletePopover-DI-AYL59.js";import"./popover-DZ2vIqHl.js";import"./index-ylu4HxYp.js";import"./index-CKtzOh09.js";import"./index-DDUeDfIN.js";import"./index-B30nyNOK.js";import"./m-datatable-DdorUHwi.js";import"./x-BX2yKWxq.js";import"./chevron-down-DlI5EWmI.js";import"./label-BFHDIXkk.js";import"./select-DEpYvQ_X.js";import"./index-DPg7GP5P.js";import"./app-logo-icon-CDj5oFHt.js";function Y(){var m,l,x,p,u,h;const i="company.ppp.clients",{model:t}=z().props,j=[{title:s("attributes.dashboard"),href:route("company.dashboard")},{title:s(`attributes.${i}.title`),href:route(i+".index")},{title:t.name,href:"#"}],{data:r,setData:d,post:g,processing:o,reset:N,errors:n}=w({profile_id:"",start_date:"",end_date:""}),k=a=>{a.preventDefault(),g(route(i+".subscriptions.store",t.id),{onSuccess:()=>N()})},_=()=>b.post(route("company.ppp.clients.enable",t.id)),v=()=>b.post(route("company.ppp.clients.disable",t.id));return e.jsxs(D,{breadcrumbs:j,children:[e.jsx(y,{title:t.name}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 rounded-2xl bg-white p-4 shadow-sm md:grid-cols-2 dark:bg-zinc-900",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.router")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.router.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.name")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.mikrotik_username")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.mikrotik_username})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.mikrotik_password")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.mikrotik_password})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.email")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.phone")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.phone})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.id_number")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.id_number})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.created_at")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.created_at})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-6 rounded-2xl bg-white p-4 shadow-sm md:grid-cols-2 dark:bg-zinc-900",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.profile")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((l=(m=t.active_subscription)==null?void 0:m.profile)==null?void 0:l.name)??"-"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.start_date")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((x=t.active_subscription)==null?void 0:x.start_date)??"-"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.end_date")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((p=t.active_subscription)==null?void 0:p.end_date)??"-"})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[((u=t.abilities)==null?void 0:u.can_enable)&&e.jsx(c,{onClick:_,variant:"default",children:"Enable"}),((h=t.abilities)==null?void 0:h.can_disable)&&e.jsx(c,{onClick:v,variant:"destructive",children:"Disable"})]}),e.jsxs("div",{className:"mt-3 overflow-x-auto rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",children:[e.jsx("h5",{className:"mb-2",children:" Subscriptions"}),e.jsx(S,{type:"ppp",resource:i,items:{data:t.subscriptions,total:t.subscriptions.length,links:[],current_page:1,from:1,to:1}})]}),e.jsxs("form",{className:"mt-3 rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",onSubmit:k,children:[e.jsx("h5",{className:"mb-4",children:s("attributes.create")}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(C,{label:s("attributes.profile"),value:String(r.profile_id),apiUrl:route("company.ppp.profiles.search",{is_synced:1}),inputProps:{id:"profile"},onChange:a=>d("profile_id",String(a)),error:n.profile_id,dependencies:{router_id:t.router_id}})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(f,{label:s("attributes.start_date"),id:"start_date",type:"date",value:r.start_date,onChange:a=>d("start_date",a.target.value),error:n.start_date})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(f,{label:s("attributes.end_date"),id:"end_date",type:"date",value:r.end_date,onChange:a=>d("end_date",a.target.value),error:n.end_date})})]}),e.jsxs(c,{type:"submit",className:"mt-4",disabled:o,children:[o&&e.jsx(L,{className:"h-4 w-4 animate-spin"}),s("attributes.save")]})]})]})]})}export{Y as default};
