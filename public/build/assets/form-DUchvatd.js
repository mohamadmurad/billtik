import{j as e,J as h,x as v}from"./app-CsO5Qu4o.js";import{L as _,I as j}from"./label-CgHfY_sk.js";import{I as c}from"./input-BY9u44IU.js";import{S as f,a as N,b as w,c as S,d as C,M as k}from"./MSelect-BfYYupLe.js";import{t as l,B as y}from"./useTranslation-CKbIDshE.js";import{L as I}from"./loader-circle-BfLYb-DN.js";import"./index-CxxjmM5e.js";import"./index-BXQsaqdr.js";import"./index-DQK-Nuwd.js";import"./index-B8mR64yK.js";import"./chevron-down-Ce0tqATG.js";function x({inputProps:r={},selectProps:a={},options:s,selectPlaceholder:i="Unit",className:m="",hideLabel:p=!1,hideError:d=!1,label:n,error:o}){return e.jsxs(e.Fragment,{children:[!p&&n&&e.jsxs(_,{htmlFor:r.id||r.name,className:"flex items-center gap-1",children:[n," ",r.required&&e.jsx("span",{className:"text-destructive text-sm leading-none dark:text-red-400",children:"*"})]}),e.jsx("div",{className:`flex items-center gap-2 ${m}`,children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(c,{type:r==null?void 0:r.type,...r}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsxs(f,{...a,children:[e.jsx(N,{className:"bg-background h-full rounded-l-none border-l px-3 py-0",children:e.jsx(w,{placeholder:i})}),e.jsx(S,{children:s.map(u=>e.jsx(C,{value:u.value,children:u.label},u.value))})]})})]})}),!d&&o&&e.jsx(j,{className:"mt-2",message:o})]})}function J({resource:r}){var g,b;const{model:a}=h().props,{data:s,setData:i,post:m,put:p,reset:d,errors:n,processing:o}=v({name:{en:((g=a==null?void 0:a.name)==null?void 0:g.en)||"",ar:((b=a==null?void 0:a.name)==null?void 0:b.ar)||""},price:(a==null?void 0:a.price)||"",download_input:(a==null?void 0:a.download_input)||"",download_unit:(a==null?void 0:a.download_unit)||"m",upload_input:(a==null?void 0:a.upload_input)||"",upload_unit:(a==null?void 0:a.upload_unit)||"m",router_id:(a==null?void 0:a.router_id)||""}),u=t=>{t.preventDefault(),a?p(route(r+".update",a.id),{onSuccess:()=>d()}):m(route(r+".store"),{onSuccess:()=>d()})};return e.jsxs("form",{method:"post",className:"space-y-6",onSubmit:u,children:[e.jsx("div",{className:"mt-4 rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(k,{label:l("attributes.router"),value:String(s.router_id),apiUrl:route("routers.search"),id:"router",onChange:t=>i("router_id",String(t)),error:n.router_id})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:l("attributes.name_en"),id:"name_en",className:"mt-1 block w-full",value:s.name.en,onChange:t=>i("name.en",t.target.value),autoComplete:"name",placeholder:l("attributes.name_en"),error:n["name.en"]})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:l("attributes.name_ar"),id:"name_ar",className:"mt-1 block w-full",value:s.name.ar,onChange:t=>i("name.ar",t.target.value),autoComplete:"name",placeholder:l("attributes.name_ar"),error:n["name.ar"]})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{label:l("attributes.download_limit"),inputProps:{id:"download_limit",value:s.download_input,onChange:t=>i("download_input",t.target.value),placeholder:l("attributes.download_limit"),type:"number"},selectProps:{value:s.download_unit,onValueChange:t=>i("download_unit",t)},options:[{label:"Mb",value:"m"},{label:"Gb",value:"g"}],className:"mt-1 block w-full",error:n.download_input})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{label:l("attributes.upload_limit"),inputProps:{id:"upload_limit",value:s.upload_input,onChange:t=>i("upload_input",t.target.value),placeholder:l("attributes.upload_limit"),type:"number"},selectProps:{value:s.upload_unit,onValueChange:t=>i("upload_unit",t)},options:[{label:"Mb",value:"m"},{label:"Gb",value:"g"}],className:"mt-1 block w-full",error:n.upload_input})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(c,{label:l("attributes.price"),id:"price",className:"mt-1 block w-full",value:s.price,onChange:t=>i("price",t.target.value),placeholder:l("attributes.price"),error:n.price})})]})}),e.jsxs(y,{type:"submit",className:"mt-4",disabled:o,children:[o&&e.jsx(I,{className:"h-4 w-4 animate-spin"}),l("attributes.save")]})]})}export{J as default};
