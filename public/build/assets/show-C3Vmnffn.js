import{J as S,x as C,j as e,Q as D,S as g}from"./app-PzElV8YR.js";import{S as L}from"./SubscriptionsTable-DIodS451.js";import{M as A}from"./MSelect-BfDTeLIG.js";import{t as s,B as o}from"./useTranslation-Cm8lgSnx.js";import{I as N}from"./input-CMZLONab.js";import{A as B}from"./app-layout-C1bh3LsM.js";import{L as E}from"./loader-circle-OX21fb4K.js";import"./EditAction-B50qakKv.js";import"./DeletePopover-CYoEGPjH.js";import"./popover-BBKlb84_.js";import"./index-BLYwJ1pc.js";import"./index-7_1EPdya.js";import"./index-CocCzd2S.js";import"./index-Fk-E4_Lj.js";import"./m-datatable-DD7XYvHD.js";import"./badge-BzNPrz4x.js";import"./x-Ch31af-f.js";import"./chevron-down-DjW5B2YW.js";import"./label-D2jW6Imn.js";import"./select-DtJiDXrW.js";import"./index-DFKWOvFi.js";import"./settings-CoLgkBOl.js";import"./app-logo-icon-B4A5scxx.js";function ae(){var m,l,x,p,u,h,b,f,j;const i="company.hotspot.clients",{model:t}=S().props,k=[{title:s("attributes.dashboard"),href:route("company.dashboard")},{title:s(`attributes.${i}.title`),href:route(i+".index")},{title:(t==null?void 0:t.name)??"",href:"#"}],{data:r,setData:d,post:_,processing:c,reset:v,errors:n}=C({profile_id:"",start_date:"",end_date:""}),z=a=>{a.preventDefault(),_(route(i+".subscriptions.store",t.id),{onSuccess:()=>v()})},w=()=>g.post(route("company.hotspot.clients.enable",t.id)),y=()=>g.post(route("company.hotspot.clients.disable",t.id));return e.jsxs(B,{breadcrumbs:k,children:[e.jsx(D,{title:t.name??""}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 rounded-2xl bg-white p-4 shadow-sm md:grid-cols-2 dark:bg-zinc-900",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.router")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.router.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.name")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.mikrotik_username")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.mikrotik_username})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.mikrotik_password")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.mikrotik_password})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.email")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.phone")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.phone})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.id_number")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.id_number})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.created_at")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:t.created_at})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-6 rounded-2xl bg-white p-4 shadow-sm md:grid-cols-2 dark:bg-zinc-900",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.profile")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((l=(m=t.active_subscription)==null?void 0:m.profile)==null?void 0:l.name)??"-"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.start_date")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((x=t.active_subscription)==null?void 0:x.start_date)??"-"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-muted-foreground text-sm font-medium dark:text-zinc-300",children:s("attributes.end_date")}),e.jsx("p",{className:"text-base font-semibold text-zinc-900 dark:text-white",children:((p=t.active_subscription)==null?void 0:p.end_date)??"-"})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[((u=t.abilities)==null?void 0:u.can_enable)&&e.jsx(o,{onClick:w,variant:"default",children:"Enable"}),((h=t.abilities)==null?void 0:h.can_disable)&&e.jsx(o,{onClick:y,variant:"destructive",children:"Disable"})]})]}),e.jsxs("div",{className:"mt-3 overflow-x-auto rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",children:[e.jsx("h5",{className:"mb-2",children:" Subscriptions"}),e.jsx(L,{type:"ppp",resource:i,items:{data:t.subscriptions,total:((b=t.subscriptions)==null?void 0:b.length)??0,links:[],current_page:1,from:((f=t.subscriptions)==null?void 0:f.length)??0,to:((j=t.subscriptions)==null?void 0:j.length)??0}})]}),e.jsxs("form",{className:"mt-3 rounded-2xl bg-white p-4 shadow-sm dark:bg-zinc-900",onSubmit:z,children:[e.jsx("h5",{className:"mb-4",children:s("attributes.create")}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(A,{label:s("attributes.profile"),value:String(r.profile_id),apiUrl:route("company.hotspot.profiles.search",{is_synced:1}),inputProps:{id:"profile"},onChange:a=>d("profile_id",String(a)),error:n.profile_id,dependencies:{router_id:t.router_id}})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(N,{label:s("attributes.start_date"),id:"start_date",type:"date",value:r.start_date,onChange:a=>d("start_date",a.target.value),error:n.start_date})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(N,{label:s("attributes.end_date"),id:"end_date",type:"date",value:r.end_date,onChange:a=>d("end_date",a.target.value),error:n.end_date})})]}),e.jsxs(o,{type:"submit",className:"mt-4",disabled:c,children:[c&&e.jsx(E,{className:"h-4 w-4 animate-spin"}),s("attributes.save")]})]})]})]})}export{ae as default};
