import{a as X,x as Q,j as e,S as C}from"./app-B6QY1Og_.js";import{S as G}from"./SubscriptionsTable-DsBIHW8h.js";import{a as J,b as K,S as W,c as S,d as z,e as M}from"./app-layout-N9fXVk_P.js";import{B as E}from"./badge-Bn5vXtGL.js";import{a as i,c as N,t as a,B as l}from"./useTranslation-P8BaZsfy.js";import{C as o,a as n,b as m,d as x}from"./card-C9cQ807B.js";import{S as Y}from"./separator-DH4NCvx1.js";import{M as Z}from"./MSelect-kRgExxRo.js";import{I as A}from"./input-l89T9MLs.js";import{C as h,A as ee,E as se,S as L}from"./shield-C7xtDy-k.js";import{R as T,S as ae}from"./settings-Cs3M8s6-.js";import{E as te}from"./ShowAction-Cd9mkg9r.js";import{L as re}from"./loader-circle-ab5Rz2m4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$=i("Copy",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],D=i("CreditCard",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ce=i("Ellipsis",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ne=i("EyeOff",oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xe=i("Mail",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],pe=i("Phone",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I=i("Plus",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],ge=i("ShieldX",be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],P=i("User",je);function Ne(s){return s?s.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"NA"}async function B(s){try{s&&await navigator.clipboard.writeText(s)}catch(r){console.error("Failed to copy: ",r)}}function Te({client:s,resource:r}){var v,y,_,w,k;const[p,F]=X.useState(!1),U=()=>C.post(route(r+".enable",s.id)),R=()=>C.post(route(r+".disable",s.id)),{data:u,setData:b,post:q,processing:f,reset:H,errors:g}=Q({profile_id:"",start_date:"",end_date:""}),O=t=>{t.preventDefault(),q(route(r+".subscriptions.store",s.id),{onSuccess:()=>H()})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"space-y-8 p-6",children:e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"relative flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(J,{className:"h-20 w-20 border-4 border-white/20 shadow-xl",children:e.jsx(K,{className:"bg-white/10 text-xl font-bold backdrop-blur-sm",children:Ne(s.name)})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold",children:s.name}),e.jsx(E,{className:N("border-0 text-sm font-medium shadow-lg",s.status_meta.bgColor,s.status_meta.textColor),children:s.status_meta.label})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),"ID: ",s.id]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(h,{className:"h-4 w-4"}),a("attributes.created"),": ",new Date(s.created_at).toLocaleDateString()]}),s.active_subscription&&e.jsxs("span",{className:N("flex items-center gap-1 rounded-full px-3 py-1",s.active_subscription.status_meta.bgColor,s.active_subscription.status_meta.textColor),children:[e.jsx(ee,{className:"h-3 w-3"}),s.active_subscription.status_meta.label]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[((v=s.abilities)==null?void 0:v.can_enable)&&e.jsxs(l,{onClick:U,size:"lg",className:"border-white/20 bg-white/10 text-white backdrop-blur-sm hover:bg-white/20",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),a("attributes.enable")]}),((y=s.abilities)==null?void 0:y.can_disable)&&e.jsxs(l,{onClick:R,size:"lg",variant:"destructive",className:"border-red-400/30 bg-red-500/20 text-white backdrop-blur-sm hover:bg-red-500/30",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),a("attributes.disable")]})]})]})]})}),e.jsxs("div",{className:"grid gap-8 xl:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 xl:col-span-2",children:[e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2 dark:bg-blue-900/30",children:e.jsx(P,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{children:a("attributes.client_info")})]}),e.jsx(l,{variant:"ghost",size:"sm",children:e.jsx(ce,{className:"h-4 w-4"})})]})}),e.jsx(x,{className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:[{icon:xe,label:a("attributes.email"),value:s.email,copyable:!0},{icon:pe,label:a("attributes.phone"),value:s.phone,copyable:!0},{icon:D,label:a("attributes.id_number"),value:s.id_number,copyable:!0},{icon:h,label:a("attributes.created_at"),value:new Date(s.created_at).toLocaleDateString()}].map(({icon:t,label:d,value:c,copyable:j},V)=>e.jsxs("div",{className:"group space-y-3",children:[e.jsxs("div",{className:"text-muted-foreground flex items-center gap-2 text-sm font-medium",children:[e.jsx(t,{className:"h-4 w-4"}),d]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-foreground flex-1 font-semibold",children:c}),j&&e.jsxs(S,{children:[e.jsx(z,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",className:"opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>B(c),children:e.jsx($,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[a("attributes.copy")," ",d]})]})]})]},V))})})]}),e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-purple-100 p-2 dark:bg-purple-900/30",children:e.jsx(T,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{children:a("attributes.technical_configuration")})]}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>F(!p),children:p?e.jsx(ne,{className:"h-4 w-4"}):e.jsx(te,{className:"h-4 w-4"})})]})}),e.jsx(x,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted/50 flex items-center justify-between rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{className:"text-muted-foreground h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:a("attributes.router")}),e.jsx("p",{className:"font-semibold",children:s.router.name})]})]}),e.jsx(l,{variant:"ghost",size:"sm",children:e.jsx(se,{className:"h-4 w-4"})})]}),e.jsx(Y,{className:"my-4"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:[{label:a("attributes.mikrotik_username"),value:s.mikrotik_username},{label:a("attributes.mikrotik_password"),value:s.mikrotik_password}].map(({label:t,value:d},c)=>e.jsxs("div",{className:"group space-y-2",children:[e.jsx("div",{className:"text-muted-foreground text-sm font-medium",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-muted/50 flex-1 rounded-md p-3 font-mono text-sm",children:p?d:"••••••••"}),e.jsxs(S,{children:[e.jsx(z,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",className:"opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>B(d),children:e.jsx($,{className:"h-4 w-4"})})}),e.jsxs(M,{children:[a("attributes.copy")," ",t]})]})]})]},c))})]})})]}),e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-green-100 p-2 dark:bg-green-900/30",children:e.jsx(h,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsx("span",{children:a("attributes.subscriptions_history")})]}),e.jsxs(E,{variant:"secondary",className:"bg-muted/50",children:[((_=s.subscriptions)==null?void 0:_.length)??0," total"]})]})}),e.jsx(x,{className:"p-0",children:e.jsx("div",{className:"overflow-hidden rounded-lg",children:e.jsx(G,{type:"ppp",resource:r,items:{data:s.subscriptions,total:((w=s.subscriptions)==null?void 0:w.length)??0,links:[],current_page:1,from:1,to:1}})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-indigo-100 p-2 dark:bg-indigo-900/30",children:e.jsx(L,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),e.jsx("span",{children:a("attributes.current_subscription")})]})}),e.jsx(x,{children:s.active_subscription?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:N("inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium",s.active_subscription.status_meta.bgColor,s.active_subscription.status_meta.textColor),children:s.active_subscription.status_meta.label})}),e.jsx("div",{className:"space-y-3",children:[{icon:P,label:a("attributes.profile"),value:(k=s.active_subscription.profile)==null?void 0:k.name},{icon:h,label:a("attributes.start_date"),value:s.active_subscription.start_date},{icon:h,label:a("attributes.end_date"),value:s.active_subscription.end_date}].map(({icon:t,label:d,value:c},j)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium",children:[e.jsx(t,{className:"h-3 w-3"}),d]}),e.jsx("p",{className:"pl-5 text-sm font-semibold",children:c})]},j))})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(L,{className:"text-muted-foreground/50 mx-auto mb-4 h-12 w-12"}),e.jsx("p",{className:"text-muted-foreground",children:a("attributes.no_active_subscription")}),e.jsx("p",{className:"text-muted-foreground/70 mt-1 text-sm",children:a("attributes.create_a_new_subscription_below")})]})})]}),e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-orange-100 p-2 dark:bg-orange-900/30",children:e.jsx(ae,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{children:"Quick Actions"})]})}),e.jsx(x,{className:"space-y-3"})]}),e.jsxs(o,{className:"border-0 bg-gradient-to-br from-white via-slate-50/50 to-white shadow-xl dark:from-slate-800 dark:via-slate-800/50 dark:to-slate-800",children:[e.jsx(n,{className:"pb-4",children:e.jsxs(m,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-emerald-100 p-2 dark:bg-emerald-900/30",children:e.jsx(I,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{children:a("attributes.add_new_subscription")})]})}),e.jsx(x,{children:e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Z,{label:a("attributes.profile"),value:String(u.profile_id),apiUrl:route(r.replace("clients","")+"profiles.search",{is_synced:1,is_active:1}),inputProps:{id:"profile"},onChange:t=>b("profile_id",String(t)),error:g.profile_id,dependencies:{router_id:s.router_id}}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(A,{label:a("attributes.start_date"),id:"start_date",type:"date",value:u.start_date,onChange:t=>b("start_date",t.target.value),error:g.start_date}),e.jsx(A,{label:a("attributes.end_date"),id:"end_date",type:"date",value:u.end_date,onChange:t=>b("end_date",t.target.value),error:g.end_date})]})]}),e.jsx(l,{type:"submit",className:"w-full",disabled:f,size:"lg",children:f?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Subscription..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),a("attributes.save")]})})]})})]})]})]})]})}export{Te as S};
